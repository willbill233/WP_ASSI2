(dp1
S'output'
p2
S"<class 'sqlite3.IntegrityError'> foreign key constraint failed"
p3
sS'layer'
p4
S'C:\\Program Files (x86)\\Web2Py\\web2py\\applications\\Assignment2\\controllers/default.py'
p5
sS'code'
p6
S'# -*- coding: utf-8 -*-\n# this file is released under public domain and you can use without limitations\n\n#########################################################################\n## This is a sample controller\n## - index is the default action of any application\n## - user is required for authentication and authorization\n## - download is for downloading files uploaded in the db (does streaming)\n#########################################################################\n\ndef index():\n    return locals()\n\ndef viewproducts():\n    noOfRowsInTable = db(db.products.id > 0).count()\n    if noOfRowsInTable % 5 == 0 :\n        noOfPages = noOfRowsInTable / 5\n    else:\n        noOfRowsInTable += 1\n        noOfPages = noOfRowsInTable / 5\n    rows = db(db.products).select(limitby=((request.args(0, cast=int) * 5) - 5, request.args(0, cast=int) * 5))\n    return locals()\n\ndef manageproducts():\n    grid = SQLFORM.grid(db.products,maxtextlength=100, paginate=10)\n    return locals()\n\n## handles posting product reviews\ndef product():\n    if auth.is_logged_in():\n        ## define what fields are presented and their default values where applicable - should be refactored to another function where we define our own validation messages\n        db.blog_post.time_stamp.default = request.now\n        db.blog_post.time_stamp.writable = False\n        db.blog_post.time_stamp.readable = False\n        db.blog_post.user_id.writable = False\n        db.blog_post.user_id.readable = False\n        db.blog_post.user_id.default = auth.user_id\n        db.blog_post.profile_picture =  db.auth_user.profile_picture\n        db.blog_post.product.default = request.args(0)\n        db.blog_post.product.readable = False\n        db.blog_post.product.writable = False\n        db.blog_post.username.default = auth.user.first_name + " " + auth.user.last_name\n        db.blog_post.username.readable = False\n        db.blog_post.username.writable = False\n        #db.blog_post.product.requires = IS_IN_DB(db,db.products.id,\'%(product)s\') This should ensure that the args for product_id should be in the DB but this doesnt work sad face - Ben\n        form = SQLFORM(db.blog_post).process()\n        if form.accepted:\n            redirect(URL(\'product/\'+request.args(0)))\n            auth.user.postcount += 1\n        elif form.errors: response.flash = \'An error has occured.\' #Can somebody find a way to test this? I cant generate any errors - Ben\n    else: form=auth.login()\n    #Somebody paginate this shit please\n    post = db.products(request.args(0))\n    rows = db((db.blog_post.product==request.args(0)) & (db.auth_user.id == db.blog_post.user_id)).select()\n    postcount=\'0\'\n    return locals()\n\ndef addproduct():\n    form = SQLFORM(db.products).process()\n    if form.accepted: redirect(URL(\'viewproducts\'))\n    return locals()\n\n\n\n\n\n@auth.requires_login()\ndef create():\n    db.blog_post.time_stamp.default = request.now\n    db.blog_post.time_stamp.writable = False\n    db.blog_post.time_stamp.readable = False\n    db.blog_post.product.default = request.args(0)\n    db.blog_post.product.readable = False\n    db.blog_post.product.writable = False\n    db.blog_post.username.default = auth.user.first_name\n    db.blog_post.username.readable = False\n    db.blog_post.username.writable = False\n    #db.blog_post.product.requires = IS_IN_DB(db,db.products.id,\'%(product)s\') This should ensure that the args for product_id should be in the DB but this doesnt work sad face - Ben\n    form = SQLFORM(db.blog_post).process()\n    if form.accepted: redirect(URL(\'product/\'+request.args(0)))\n    elif form.errors: response.flash = \'An error has occured.\' #Can somebody find a way to test this? I cant generate any errors - Ben\n    return locals()\n\ndef showreview():\n    post = db.blog_post(request.args(0,cast=int))\n    return locals()\n\n\n@auth.requires_membership(\'Manager\')\ndef management():\n    grid = SQLFORM.grid(db.blog_post)\n    return locals()\n\ndef user():\n    """\n    exposes:\n    http://..../[app]/default/user/login\n    http://..../[app]/default/user/logout\n    http://..../[app]/default/user/register\n    http://..../[app]/default/user/profile\n    http://..../[app]/default/user/retrieve_password\n    http://..../[app]/default/user/change_password\n    http://..../[app]/default/user/bulk_register\n    use @auth.requires_login()\n        @auth.requires_membership(\'group name\')\n        @auth.requires_permission(\'read\',\'table name\',record_id)\n    to decorate functions that need access control\n    also notice there is http://..../[app]/appadmin/manage/auth to allow administrator to manage users\n    """\n    db.auth_user.postcount.writable = False\n    db.auth_user.postcount.readable = False\n    return dict(form=auth())\n\n\n@cache.action()\ndef download():\n    """\n    allows downloading of uploaded files\n    http://..../[app]/default/download/[filename]\n    """\n    return response.download(request, db)\n\n\ndef call():\n    """\n    exposes services. for example:\n    http://..../[app]/default/call/jsonrpc\n    decorate with @services.jsonrpc the functions to expose\n    supports xml, json, xmlrpc, jsonrpc, amfrpc, rss, csv\n    """\n    return service()\n\nresponse._vars=response._caller(product)\n'
p7
sS'snapshot'
p8
(dp9
S'exception'
p10
(dp11
S'__module__'
p12
S"'sqlite3'"
p13
sS'__getslice__'
p14
S"<method-wrapper '__getslice__' of IntegrityError object>"
p15
sS'__str__'
p16
S"<method-wrapper '__str__' of IntegrityError object>"
p17
sS'__reduce__'
p18
S'<built-in method __reduce__ of IntegrityError object>'
p19
sS'__dict__'
p20
S'{}'
p21
sS'__sizeof__'
p22
S'<built-in method __sizeof__ of IntegrityError object>'
p23
sS'__weakref__'
p24
S'None'
p25
sS'__init__'
p26
S"<method-wrapper '__init__' of IntegrityError object>"
p27
sS'__setattr__'
p28
S"<method-wrapper '__setattr__' of IntegrityError object>"
p29
sS'__reduce_ex__'
p30
S'<built-in method __reduce_ex__ of IntegrityError object>'
p31
sS'__new__'
p32
S'<built-in method __new__ of type object>'
p33
sS'__format__'
p34
S'<built-in method __format__ of IntegrityError object>'
p35
sS'__class__'
p36
S"<class 'sqlite3.IntegrityError'>"
p37
sS'__doc__'
p38
S'None'
p39
sS'__getitem__'
p40
S"<method-wrapper '__getitem__' of IntegrityError object>"
p41
sS'__setstate__'
p42
S'<built-in method __setstate__ of IntegrityError object>'
p43
sS'__getattribute__'
p44
S"<method-wrapper '__getattribute__' of IntegrityError object>"
p45
sS'args'
p46
S"('foreign key constraint failed',)"
p47
sS'__subclasshook__'
p48
S'<built-in method __subclasshook__ of type object>'
p49
sS'__unicode__'
p50
S'<built-in method __unicode__ of IntegrityError object>'
p51
sS'__delattr__'
p52
S"<method-wrapper '__delattr__' of IntegrityError object>"
p53
sS'__repr__'
p54
S"<method-wrapper '__repr__' of IntegrityError object>"
p55
sS'__hash__'
p56
S"<method-wrapper '__hash__' of IntegrityError object>"
p57
ssS'evalue'
p58
S'foreign key constraint failed'
p59
sS'request'
p60
cgluon.html
XML_unpickle
p61
(S's\xf6h\x00\x00<div><table><tr><td style="font-weight:bold;vertical-align:top;">ajax</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">application</td><td style="vertical-align:top;">:</td><td><div>Assignment2</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">args</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>2</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">cid</td><td style="vertical-align:top;">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">client</td><td style="vertical-align:top;">:</td><td><div>127.0.0.1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">controller</td><td style="vertical-align:top;">:</td><td><div>default</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">cookies</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">session_id_admin</td><td style="vertical-align:top;">:</td><td><div>127.0.0.1-165c09bd-1f28-454a-aeab-76bf5332f5b1<table><tr><td style="font-weight:bold;vertical-align:top;">comment</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">domain</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">expires</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">httponly</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">max-age</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">path</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">secure</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">version</td><td style="vertical-align:top;">:</td><td><div></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_id_assignment2</td><td style="vertical-align:top;">:</td><td><div>127.0.0.1-6b7a887d-1fde-4d58-9c6c-02c493602640<table><tr><td style="font-weight:bold;vertical-align:top;">comment</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">domain</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">expires</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">httponly</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">max-age</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">path</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">secure</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">version</td><td style="vertical-align:top;">:</td><td><div></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_id_welcome</td><td style="vertical-align:top;">:</td><td><div>127.0.0.1-4c7da030-660f-4dc2-b228-973f2322a729<table><tr><td style="font-weight:bold;vertical-align:top;">comment</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">domain</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">expires</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">httponly</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">max-age</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">path</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">secure</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">version</td><td style="vertical-align:top;">:</td><td><div></div></td></tr></table></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">env</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">CONTENT_LENGTH</td><td style="vertical-align:top;">:</td><td><div>478</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">CONTENT_TYPE</td><td style="vertical-align:top;">:</td><td><div>multipart/form-data; boundary=----WebKitFormBoundaryBrRm19RAhNmcSrU9</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_ACCEPT</td><td style="vertical-align:top;">:</td><td><div>text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_ACCEPT_ENCODING</td><td style="vertical-align:top;">:</td><td><div>gzip, deflate</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_ACCEPT_LANGUAGE</td><td style="vertical-align:top;">:</td><td><div>en-US,en;q=0.8</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_CACHE_CONTROL</td><td style="vertical-align:top;">:</td><td><div>max-age=0</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_CONNECTION</td><td style="vertical-align:top;">:</td><td><div>keep-alive</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_CONTENT_LENGTH</td><td style="vertical-align:top;">:</td><td><div>478</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_CONTENT_TYPE</td><td style="vertical-align:top;">:</td><td><div>multipart/form-data; boundary=----WebKitFormBoundaryBrRm19RAhNmcSrU9</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_COOKIE</td><td style="vertical-align:top;">:</td><td><div>session_id_welcome=127.0.0.1-4c7da030-660f-4dc2-b228-973f2322a729; session_id_admin=127.0.0.1-165c09bd-1f28-454a-aeab-76bf5332f5b1; session_id_assignment2=127.0.0.1-6b7a887d-1fde-4d58-9c6c-02c493602640</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_HOST</td><td style="vertical-align:top;">:</td><td><div>127.0.0.1:8000</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_ORIGIN</td><td style="vertical-align:top;">:</td><td><div>http://127.0.0.1:8000</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_REFERER</td><td style="vertical-align:top;">:</td><td><div>http://127.0.0.1:8000/Assignment2/default/product/2</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_UPGRADE_INSECURE_REQUESTS</td><td style="vertical-align:top;">:</td><td><div>1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_USER_AGENT</td><td style="vertical-align:top;">:</td><td><div>Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/48.0.2564.116 Safari/537.36</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">PATH_INFO</td><td style="vertical-align:top;">:</td><td><div>/Assignment2/default/product/2</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">QUERY_STRING</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">REMOTE_ADDR</td><td style="vertical-align:top;">:</td><td><div>127.0.0.1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">REMOTE_PORT</td><td style="vertical-align:top;">:</td><td><div>62099</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">REQUEST_METHOD</td><td style="vertical-align:top;">:</td><td><div>POST</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">SCRIPT_NAME</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">SERVER_NAME</td><td style="vertical-align:top;">:</td><td><div>Nathan</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">SERVER_PORT</td><td style="vertical-align:top;">:</td><td><div>8000</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">SERVER_PROTOCOL</td><td style="vertical-align:top;">:</td><td><div>HTTP/1.1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">SERVER_SOFTWARE</td><td style="vertical-align:top;">:</td><td><div>Rocket 1.2.6</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">app_folders</td><td style="vertical-align:top;">:</td><td><div>set([&#x27;C:\\\\Program Files (x86)\\\\Web2Py\\\\web2py\\\\applications\\\\Assignment2\\\\&#x27;, &#x27;C:\\\\Program Files (x86)\\\\Web2Py\\\\web2py\\\\applications\\\\examples\\\\&#x27;, &#x27;C:\\\\Program Files (x86)\\\\Web2Py\\\\web2py\\\\applications\\\\welcome\\\\&#x27;, &#x27;C:\\\\Program Files (x86)\\\\Web2Py\\\\web2py\\\\applications\\\\admin\\\\&#x27;])</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">applications_parent</td><td style="vertical-align:top;">:</td><td><div>C:\\Program Files (x86)\\Web2Py\\web2py</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">cmd_args</td><td style="vertical-align:top;">:</td><td><div><table></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">cmd_options</td><td style="vertical-align:top;">:</td><td><div>&lt;Values at 0x3272760: {&#x27;verbose&#x27;: False, &#x27;ip&#x27;: &#x27;127.0.0.1&#x27;, &#x27;debuglevel&#x27;: 30, &#x27;with_scheduler&#x27;: False, &#x27;ips&#x27;: [&#x27;2001:0:9d38:6ab8:408:2be6:a9ed:818c&#x27;, &#x27;192.168.3.2&#x27;, &#x27;fe80::408:2be6:a9ed:818c%2&#x27;, &#x27;fe80::9d85:8259:b229:e7bb%8&#x27;, &#x27;192.168.0.11&#x27;, &#x27;fe80::9116:41dc:2500:dfb%3&#x27;], &#x27;shutdown_timeout&#x27;: 5, &#x27;taskbar&#x27;: False, &#x27;with_coverage&#x27;: False, &#x27;scheduler_groups&#x27;: None, &#x27;port&#x27;: 8000, &#x27;maxthreads&#x27;: None, &#x27;softcron&#x27;: False, &#x27;server_name&#x27;: &#x27;Nathan&#x27;, &#x27;bpython&#x27;: False, &#x27;nogui&#x27;: False, &#x27;pid_filename&#x27;: &#x27;httpserver.pid&#x27;, &#x27;print_errors&#x27;: False, &#x27;extcron&#x27;: False, &#x27;runcron&#x27;: False, &#x27;run_system_tests&#x27;: False, &#x27;test&#x27;: None, &#x27;folder&#x27;: &#x27;C:\\\\Program Files (x86)\\\\Web2Py\\\\web2py&#x27;, &#x27;config&#x27;: &#x27;&#x27;, &#x27;minthreads&#x27;: None, &#x27;shell&#x27;: None, &#x27;run&#x27;: &#x27;&#x27;, &#x27;log_filename&#x27;: &#x27;httpserver.log&#x27;, &#x27;profiler_dir&#x27;: None, &#x27;args&#x27;: [&#x27;&#x27;], &#x27;socket_timeout&#x27;: 5, &#x27;ssl_ca_certificate&#x27;: None, &#x27;scheduler&#x27;: None, &#x27;interfaces&#x27;: None, &#x27;ssl_private_key&#x27;: &#x27;&#x27;, &#x27;gae&#x27;: None, &#x27;password&#x27;: &#x27;&lt;ask&gt;&#x27;, &#x27;request_queue_size&#x27;: 5, &#x27;ssl_certificate&#x27;: &#x27;&#x27;, &#x27;cronjob&#x27;: False, &#x27;numthreads&#x27;: None, &#x27;quiet&#x27;: False, &#x27;import_models&#x27;: False, &#x27;timeout&#x27;: 10, &#x27;plain&#x27;: False, &#x27;nobanner&#x27;: False}&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">content_length</td><td style="vertical-align:top;">:</td><td><div>478</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">content_type</td><td style="vertical-align:top;">:</td><td><div>multipart/form-data; boundary=----WebKitFormBoundaryBrRm19RAhNmcSrU9</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">db_sessions</td><td style="vertical-align:top;">:</td><td><div>set([])</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">debugging</td><td style="vertical-align:top;">:</td><td><div>True</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">gluon_parent</td><td style="vertical-align:top;">:</td><td><div>C:\\Program Files (x86)\\Web2Py\\web2py</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_accept</td><td style="vertical-align:top;">:</td><td><div>text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_accept_encoding</td><td style="vertical-align:top;">:</td><td><div>gzip, deflate</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_accept_language</td><td style="vertical-align:top;">:</td><td><div>en-US,en;q=0.8</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_cache_control</td><td style="vertical-align:top;">:</td><td><div>max-age=0</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_connection</td><td style="vertical-align:top;">:</td><td><div>keep-alive</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_content_length</td><td style="vertical-align:top;">:</td><td><div>478</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_content_type</td><td style="vertical-align:top;">:</td><td><div>multipart/form-data; boundary=----WebKitFormBoundaryBrRm19RAhNmcSrU9</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_cookie</td><td style="vertical-align:top;">:</td><td><div>session_id_welcome=127.0.0.1-4c7da030-660f-4dc2-b228-973f2322a729; session_id_admin=127.0.0.1-165c09bd-1f28-454a-aeab-76bf5332f5b1; session_id_assignment2=127.0.0.1-6b7a887d-1fde-4d58-9c6c-02c493602640</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_host</td><td style="vertical-align:top;">:</td><td><div>127.0.0.1:8000</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_origin</td><td style="vertical-align:top;">:</td><td><div>http://127.0.0.1:8000</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_referer</td><td style="vertical-align:top;">:</td><td><div>http://127.0.0.1:8000/Assignment2/default/product/2</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_upgrade_insecure_requests</td><td style="vertical-align:top;">:</td><td><div>1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_user_agent</td><td style="vertical-align:top;">:</td><td><div>Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/48.0.2564.116 Safari/537.36</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_jython</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_pypy</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_source</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">local_hosts</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>2001:0:9d38:6ab8:408:2be6:a9ed:818c</div></td></tr><tr><td><div>Nathan</div></td></tr><tr><td><div>192.168.3.2</div></td></tr><tr><td><div>::ffff:127.0.0.1</div></td></tr><tr><td><div>::1</div></td></tr><tr><td><div>fe80::408:2be6:a9ed:818c%2</div></td></tr><tr><td><div>fe80::9d85:8259:b229:e7bb%8</div></td></tr><tr><td><div>192.168.0.11</div></td></tr><tr><td><div>fe80::9116:41dc:2500:dfb%3</div></td></tr><tr><td><div>127.0.0.1</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">path_info</td><td style="vertical-align:top;">:</td><td><div>/Assignment2/default/product/2</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">query_string</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">remote_addr</td><td style="vertical-align:top;">:</td><td><div>127.0.0.1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">remote_port</td><td style="vertical-align:top;">:</td><td><div>62099</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">request_method</td><td style="vertical-align:top;">:</td><td><div>POST</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">request_uri</td><td style="vertical-align:top;">:</td><td><div>/Assignment2/default/product/2</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">script_name</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">server_name</td><td style="vertical-align:top;">:</td><td><div>Nathan</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">server_port</td><td style="vertical-align:top;">:</td><td><div>8000</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">server_protocol</td><td style="vertical-align:top;">:</td><td><div>HTTP/1.1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">server_software</td><td style="vertical-align:top;">:</td><td><div>Rocket 1.2.6</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">web2py_path</td><td style="vertical-align:top;">:</td><td><div>C:\\Program Files (x86)\\Web2Py\\web2py</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">web2py_version</td><td style="vertical-align:top;">:</td><td><div>2.13.4-stable+timestamp.2015.12.26.04.59.39</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.errors</td><td style="vertical-align:top;">:</td><td><div>&lt;open file &#x27;&lt;stderr&gt;&#x27;, mode &#x27;w&#x27; at 0x0223D0D0&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.file_wrapper</td><td style="vertical-align:top;">:</td><td><div>&lt;class wsgiref.util.FileWrapper at 0x031F71B8&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.input</td><td style="vertical-align:top;">:</td><td><div>&lt;socket._fileobject object at 0x087EF0F0&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.multiprocess</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.multithread</td><td style="vertical-align:top;">:</td><td><div>True</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.run_once</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.url_scheme</td><td style="vertical-align:top;">:</td><td><div>http</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.version</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>1</div></td></tr><tr><td><div>0</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_errors</td><td style="vertical-align:top;">:</td><td><div>&lt;open file &#x27;&lt;stderr&gt;&#x27;, mode &#x27;w&#x27; at 0x0223D0D0&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_file_wrapper</td><td style="vertical-align:top;">:</td><td><div>&lt;class wsgiref.util.FileWrapper at 0x031F71B8&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_input</td><td style="vertical-align:top;">:</td><td><div>&lt;socket._fileobject object at 0x087EF0F0&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_multiprocess</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_multithread</td><td style="vertical-align:top;">:</td><td><div>True</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_run_once</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_url_scheme</td><td style="vertical-align:top;">:</td><td><div>http</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_version</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>1</div></td></tr><tr><td><div>0</div></td></tr></table></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">extension</td><td style="vertical-align:top;">:</td><td><div>html</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">folder</td><td style="vertical-align:top;">:</td><td><div>C:\\Program Files (x86)\\Web2Py\\web2py\\applications\\Assignment2\\</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">function</td><td style="vertical-align:top;">:</td><td><div>product</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">global_settings</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">app_folders</td><td style="vertical-align:top;">:</td><td><div>set([&#x27;C:\\\\Program Files (x86)\\\\Web2Py\\\\web2py\\\\applications\\\\Assignment2\\\\&#x27;, &#x27;C:\\\\Program Files (x86)\\\\Web2Py\\\\web2py\\\\applications\\\\examples\\\\&#x27;, &#x27;C:\\\\Program Files (x86)\\\\Web2Py\\\\web2py\\\\applications\\\\welcome\\\\&#x27;, &#x27;C:\\\\Program Files (x86)\\\\Web2Py\\\\web2py\\\\applications\\\\admin\\\\&#x27;])</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">applications_parent</td><td style="vertical-align:top;">:</td><td><div>C:\\Program Files (x86)\\Web2Py\\web2py</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">cmd_args</td><td style="vertical-align:top;">:</td><td><div><table></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">cmd_options</td><td style="vertical-align:top;">:</td><td><div>&lt;Values at 0x3272760: {&#x27;verbose&#x27;: False, &#x27;ip&#x27;: &#x27;127.0.0.1&#x27;, &#x27;debuglevel&#x27;: 30, &#x27;with_scheduler&#x27;: False, &#x27;ips&#x27;: [&#x27;2001:0:9d38:6ab8:408:2be6:a9ed:818c&#x27;, &#x27;192.168.3.2&#x27;, &#x27;fe80::408:2be6:a9ed:818c%2&#x27;, &#x27;fe80::9d85:8259:b229:e7bb%8&#x27;, &#x27;192.168.0.11&#x27;, &#x27;fe80::9116:41dc:2500:dfb%3&#x27;], &#x27;shutdown_timeout&#x27;: 5, &#x27;taskbar&#x27;: False, &#x27;with_coverage&#x27;: False, &#x27;scheduler_groups&#x27;: None, &#x27;port&#x27;: 8000, &#x27;maxthreads&#x27;: None, &#x27;softcron&#x27;: False, &#x27;server_name&#x27;: &#x27;Nathan&#x27;, &#x27;bpython&#x27;: False, &#x27;nogui&#x27;: False, &#x27;pid_filename&#x27;: &#x27;httpserver.pid&#x27;, &#x27;print_errors&#x27;: False, &#x27;extcron&#x27;: False, &#x27;runcron&#x27;: False, &#x27;run_system_tests&#x27;: False, &#x27;test&#x27;: None, &#x27;folder&#x27;: &#x27;C:\\\\Program Files (x86)\\\\Web2Py\\\\web2py&#x27;, &#x27;config&#x27;: &#x27;&#x27;, &#x27;minthreads&#x27;: None, &#x27;shell&#x27;: None, &#x27;run&#x27;: &#x27;&#x27;, &#x27;log_filename&#x27;: &#x27;httpserver.log&#x27;, &#x27;profiler_dir&#x27;: None, &#x27;args&#x27;: [&#x27;&#x27;], &#x27;socket_timeout&#x27;: 5, &#x27;ssl_ca_certificate&#x27;: None, &#x27;scheduler&#x27;: None, &#x27;interfaces&#x27;: None, &#x27;ssl_private_key&#x27;: &#x27;&#x27;, &#x27;gae&#x27;: None, &#x27;password&#x27;: &#x27;&lt;ask&gt;&#x27;, &#x27;request_queue_size&#x27;: 5, &#x27;ssl_certificate&#x27;: &#x27;&#x27;, &#x27;cronjob&#x27;: False, &#x27;numthreads&#x27;: None, &#x27;quiet&#x27;: False, &#x27;import_models&#x27;: False, &#x27;timeout&#x27;: 10, &#x27;plain&#x27;: False, &#x27;nobanner&#x27;: False}&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">db_sessions</td><td style="vertical-align:top;">:</td><td><div>set([])</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">debugging</td><td style="vertical-align:top;">:</td><td><div>True</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">gluon_parent</td><td style="vertical-align:top;">:</td><td><div>C:\\Program Files (x86)\\Web2Py\\web2py</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_jython</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_pypy</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_source</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">local_hosts</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>2001:0:9d38:6ab8:408:2be6:a9ed:818c</div></td></tr><tr><td><div>Nathan</div></td></tr><tr><td><div>192.168.3.2</div></td></tr><tr><td><div>::ffff:127.0.0.1</div></td></tr><tr><td><div>::1</div></td></tr><tr><td><div>fe80::408:2be6:a9ed:818c%2</div></td></tr><tr><td><div>fe80::9d85:8259:b229:e7bb%8</div></td></tr><tr><td><div>192.168.0.11</div></td></tr><tr><td><div>fe80::9116:41dc:2500:dfb%3</div></td></tr><tr><td><div>127.0.0.1</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">web2py_version</td><td style="vertical-align:top;">:</td><td><div>2.13.4-stable+timestamp.2015.12.26.04.59.39</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_https</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_local</td><td style="vertical-align:top;">:</td><td><div>True</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_restful</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_scheduler</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_shell</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">now</td><td style="vertical-align:top;">:</td><td><div>datetime.datetime(2016, 3, 11, 21, 34, 27, 889000)</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">raw_args</td><td style="vertical-align:top;">:</td><td><div>2</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">raw_extension</td><td style="vertical-align:top;">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">url</td><td style="vertical-align:top;">:</td><td><div>/Assignment2/default/product/2</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">utcnow</td><td style="vertical-align:top;">:</td><td><div>datetime.datetime(2016, 3, 11, 21, 34, 27, 889000)</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi</td><td style="vertical-align:top;">:</td><td><div>&lt;gluon.main.LazyWSGI object at 0x08FA2550&gt;</div></td></tr></table></div>'
tRp62
sS'frames'
p63
(lp64
(dp65
S'file'
p66
S'C:\\Program Files (x86)\\Web2Py\\web2py\\gluon\\restricted.py'
p67
sS'dump'
p68
(dp69
S'environment'
p70
S"{'A': <class 'gluon.html.A'>, 'ANY_OF': <class 'gluon.validators.ANY_OF'>, 'ASSIGNJS': <function ASSIGNJS>, 'AppConfig': <function AppConfig>, 'Auth': <class 'gluon.tools.Auth'>, 'B': <class 'gluon.html.B'>, 'BEAUTIFY': <class 'gluon.html.BEAUTIFY'>, 'BODY': <class 'gluon.html.BODY'>, 'BR': <class 'gluon.html.BR'>, 'BUTTON': <class 'gluon.html.BUTTON'>, ...}"
p71
sS'ccode'
p72
S'<code object <module> at 03CA81D0, file "C:\\Prog...ons\\Assignment2\\controllers/default.py", line 11>'
p73
ssS'lnum'
p74
I227
sS'lines'
p75
(dp76
I224
S'            ccode = code'
p77
sI225
S'        else:'
p78
sI226
S'            ccode = compile2(code, layer)'
p79
sI227
S'        exec ccode in environment'
p80
sI228
S'    except HTTP:'
p81
sI229
S'        raise'
p82
sI230
S'    except RestrictedError:'
p83
sI231
S'        # do not encapsulate (obfuscate) the original RestrictedError'
p84
sI222
S'    try:'
p85
sI223
S'        if isinstance(code, types.CodeType):'
p86
ssS'call'
p87
S"(code='# -*- coding: utf-8 -*-\\n# this file is released ...vice()\\n\\nresponse._vars=response._caller(product)\\n', environment={'A': <class 'gluon.html.A'>, 'ANY_OF': <class 'gluon.validators.ANY_OF'>, 'ASSIGNJS': <function ASSIGNJS>, 'AppConfig': <function AppConfig>, 'Auth': <class 'gluon.tools.Auth'>, 'B': <class 'gluon.html.B'>, 'BEAUTIFY': <class 'gluon.html.BEAUTIFY'>, 'BODY': <class 'gluon.html.BODY'>, 'BR': <class 'gluon.html.BR'>, 'BUTTON': <class 'gluon.html.BUTTON'>, ...}, layer=r'C:\\Program Files (x86)\\Web2Py\\web2py\\applications\\Assignment2\\controllers/default.py')"
p88
sS'func'
p89
S'restricted'
p90
sa(dp91
g66
S'C:\\Program Files (x86)\\Web2Py\\web2py\\applications\\Assignment2\\controllers\\default.py'
p92
sg68
(dp93
sg74
I133
sg75
(dp94
I128
S'    decorate with @services.jsonrpc the functions to expose'
p95
sI129
S'    supports xml, json, xmlrpc, jsonrpc, amfrpc, rss, csv'
p96
sI130
S'    """'
p97
sI131
S'    return service()'
p98
sI122
S''
sI123
S''
sI124
S'def call():'
p99
sI125
S'    """'
p100
sI126
S'    exposes services. for example:'
p101
sI127
S'    http://..../[app]/default/call/jsonrpc'
p102
ssg87
S'()'
p103
sg89
S'<module>'
p104
sa(dp105
g66
S'C:\\Program Files (x86)\\Web2Py\\web2py\\gluon\\globals.py'
p106
sg68
(dp107
S'self'
p108
S'undefined'
p109
sS'f'
S'<function product>'
p110
ssg74
I412
sg75
(dp111
I416
S"        self.generic_patterns = ['*']"
p112
sI407
S"        self.flash = ''            # used by the default view layout"
p113
sI408
S'        self.meta = Storage()      # used by web2py_ajax.html'
p114
sI409
S'        self.menu = []             # used by the default view layout'
p115
sI410
S'        self.files = []            # used by web2py_ajax.html'
p116
sI411
S'        self._vars = None'
p117
sI412
S'        self._caller = lambda f: f()'
p118
sI413
S'        self._view_environment = None'
p119
sI414
S'        self._custom_commit = None'
p120
sI415
S'        self._custom_rollback = None'
p121
ssg87
S'(f=<function product>)'
p122
sg89
S'<lambda>'
p123
sa(dp124
g66
S'C:\\Program Files (x86)\\Web2Py\\web2py\\applications\\Assignment2\\controllers\\default.py'
p125
sg68
(dp126
S'global db'
p127
S'<DAL uri="sqlite://storage.sqlite">'
p128
sS'global SQLFORM'
p129
S"<class 'gluon.sqlhtml.SQLFORM'>"
p130
sS').process'
p131
g109
sS'form'
p132
g109
sS'db.blog_post'
p133
S'<Table blog_post (id,product,title,body,time_stamp,username,user_id)>'
p134
ssg74
I46
sg75
(dp135
I41
S'        db.blog_post.product.writable = False'
p136
sI42
S'        db.blog_post.username.default = auth.user.first_name + " " + auth.user.last_name'
p137
sI43
S'        db.blog_post.username.readable = False'
p138
sI44
S'        db.blog_post.username.writable = False'
p139
sI45
S"        #db.blog_post.product.requires = IS_IN_DB(db,db.products.id,'%(product)s') This should ensure that the args for product_id should be in the DB but this doesnt work sad face - Ben"
p140
sI46
S'        form = SQLFORM(db.blog_post).process()'
p141
sI47
S'        if form.accepted:'
p142
sI48
S"            redirect(URL('product/'+request.args(0)))"
p143
sI49
S'            auth.user.postcount += 1'
p144
sI50
S"        elif form.errors: response.flash = 'An error has occured.' #Can somebody find a way to test this? I cant generate any errors - Ben"
p145
ssg87
S'()'
p146
sg89
S'product'
p147
sa(dp148
g66
S'C:\\Program Files (x86)\\Web2Py\\web2py\\gluon\\html.py'
p149
sg68
(dp150
S'self'
p151
S'<gluon.sqlhtml.SQLFORM object>'
p152
sS'self.validate'
p153
S'<bound method SQLFORM.validate of <gluon.sqlhtml.SQLFORM object>>'
p154
sS'kwargs'
p155
S"{'dbio': True}"
p156
ssg74
I2304
sg75
(dp157
I2304
S'        self.validate(**kwargs)'
p158
sI2305
S'        return self'
p159
sI2306
S''
sI2307
S'    REDIRECT_JS = "window.location=\'%s\';return false"'
p160
sI2308
S''
sI2299
S''
sI2300
S''
sI2301
S'        """'
p161
sI2302
S"        kwargs['dbio'] = kwargs.get('dbio', True)"
p162
sI2303
S'                                    # necessary for SQLHTML forms'
p163
ssg87
S"(self=<gluon.sqlhtml.SQLFORM object>, **kwargs={'dbio': True})"
p164
sg89
S'process'
p165
sa(dp166
g66
S'C:\\Program Files (x86)\\Web2Py\\web2py\\gluon\\html.py'
p167
sg68
(dp168
S'self'
p169
S'<gluon.sqlhtml.SQLFORM object>'
p170
sS'self.accepts'
p171
S'<bound method SQLFORM.accepts of <gluon.sqlhtml.SQLFORM object>>'
p172
sS'kwargs'
p173
S"{'dbio': True, 'request_vars': <Storage {'body': 'fgdh', '_formkey': '7269da21-..._formname': 'blog_post/create', 'title': 'vchb'}>, 'session': <Storage {'_formkey[blog_post/create]': ['68b746...f515c', '0a757e26-3fcb-47d3-9b5f-e8d727e1b4f7']}>}"
p174
ssg74
I2241
sg75
(dp175
I2240
S''
sI2241
S'        if self.accepts(**kwargs):'
p176
sI2242
S"            if onsuccess == 'flash':"
p177
sI2243
S'                if next:'
p178
sI2244
S'                    current.session.flash = message_onsuccess'
p179
sI2245
S'                else:'
p180
sI2236
S"        for key in ('message_onsuccess', 'message_onfailure', 'onsuccess',"
p181
sI2237
S"                    'onfailure', 'next', 'message_onchange', 'onchange'):"
p182
sI2238
S'            if key in kwargs:'
p183
sI2239
S'                del kwargs[key]'
p184
ssg87
S"(self=<gluon.sqlhtml.SQLFORM object>, **kwargs={'dbio': True, 'request_vars': <Storage {'body': 'fgdh', '_formkey': '7269da21-..._formname': 'blog_post/create', 'title': 'vchb'}>, 'session': <Storage {'_formkey[blog_post/create]': ['68b746...f515c', '0a757e26-3fcb-47d3-9b5f-e8d727e1b4f7']}>})"
p185
sg89
S'validate'
p186
sa(dp187
g66
S'C:\\Program Files (x86)\\Web2Py\\web2py\\gluon\\sqlhtml.py'
p188
sg68
(dp189
S'self.vars.id'
p190
S'None'
p191
sS'fields'
p192
S"{'body': 'fgdh', 'product': '2', 'time_stamp': datetime.datetime(2016, 3, 11, 21, 34, 27, 889000), 'title': 'vchb', 'user_id': 6L, 'username': 'Ben Lister'}"
p193
sS'self'
p194
S'<gluon.sqlhtml.SQLFORM object>'
p195
sS'self.vars'
p196
S"<Storage {'body': 'fgdh', 'title': 'vchb'}>"
p197
sS'self.table.insert'
p198
S'<bound method Table.insert of <Table blog_post (id,product,title,body,time_stamp,username,user_id)>>'
p199
sS'self.table'
p200
S'<Table blog_post (id,product,title,body,time_stamp,username,user_id)>'
p201
ssg74
I1722
sg75
(dp202
I1717
S'                    self.vars.id = self.record[self.id_field_name]'
p203
sI1718
S'                    if fields:'
p204
sI1719
S'                        self.table._db(self.table._id == self.record['
p205
sI1720
S'                                       self.id_field_name]).update(**fields)'
p206
sI1721
S'                else:'
p207
sI1722
S'                    self.vars.id = self.table.insert(**fields)'
p208
sI1723
S'        self.accepted = ret'
p209
sI1724
S'        return ret'
p210
sI1725
S''
sI1726
S'    AUTOTYPES = {'
p211
ssg87
S"(self=<gluon.sqlhtml.SQLFORM object>, request_vars=<Storage {'body': 'fgdh', '_formkey': '7269da21-..._formname': 'blog_post/create', 'title': 'vchb'}>, session=<Storage {'_formkey[blog_post/create]': ['68b746...f515c', '0a757e26-3fcb-47d3-9b5f-e8d727e1b4f7']}>, formname='blog_post/create', keepvalues=False, onvalidation=None, dbio=True, hideerror=False, detect_record_change=False, **kwargs={})"
p212
sg89
S'accepts'
p213
sa(dp214
g66
S'C:\\Program Files (x86)\\Web2Py\\web2py\\gluon\\packages\\dal\\pydal\\objects.py'
p215
sg68
(dp216
S'self._listify'
p217
S'<bound method Table._listify of <Table blog_post...product,title,body,time_stamp,username,user_id)>>'
p218
sS'fields'
p219
S"{'body': 'fgdh', 'product': '2', 'time_stamp': datetime.datetime(2016, 3, 11, 21, 34, 27, 889000), 'title': 'vchb', 'user_id': 6L, 'username': 'Ben Lister'}"
p220
sS'self'
p221
S'<Table blog_post (id,product,title,body,time_stamp,username,user_id)>'
p222
sS'ret'
p223
g109
sS'self._db._adapter'
p224
S'<pydal.adapters.sqlite.SQLiteAdapter object>'
p225
sS'self._db._adapter.insert'
p226
S'<bound method SQLiteAdapter.insert of <pydal.adapters.sqlite.SQLiteAdapter object>>'
p227
sS'self._db'
p228
S'<DAL uri="sqlite://storage.sqlite">'
p229
ssg74
I731
sg75
(dp230
I726
S'    def insert(self, **fields):'
p231
sI727
S'        fields = self._defaults(fields)'
p232
sI728
S'        self._attempt_upload(fields)'
p233
sI729
S'        if any(f(fields) for f in self._before_insert):'
p234
sI730
S'            return 0'
p235
sI731
S'        ret = self._db._adapter.insert(self, self._listify(fields))'
p236
sI732
S'        if ret and self._after_insert:'
p237
sI733
S'            fields = Row(fields)'
p238
sI734
S'            [f(fields, ret) for f in self._after_insert]'
p239
sI735
S'        return ret'
p240
ssg87
S"(self=<Table blog_post (id,product,title,body,time_stamp,username,user_id)>, **fields={'body': 'fgdh', 'product': '2', 'time_stamp': datetime.datetime(2016, 3, 11, 21, 34, 27, 889000), 'title': 'vchb', 'user_id': 6L, 'username': 'Ben Lister'})"
p241
sg89
S'insert'
p242
sa(dp243
g66
S'C:\\Program Files (x86)\\Web2Py\\web2py\\gluon\\packages\\dal\\pydal\\adapters\\base.py'
p244
sg68
(dp245
S'e'
S"IntegrityError('foreign key constraint failed',)"
p246
ssg74
I746
sg75
(dp247
I741
S'            self.execute(query)'
p248
sI742
S'        except Exception:'
p249
sI743
S'            e = sys.exc_info()[1]'
p250
sI744
S"            if hasattr(table,'_on_insert_error'):"
p251
sI745
S'                return table._on_insert_error(table,fields,e)'
p252
sI746
S'            raise e'
p253
sI747
S"        if hasattr(table, '_primarykey'):"
p254
sI748
S'            mydict = dict([(k[0].name, k[1]) for k in fields if k[0].name in table._primarykey])'
p255
sI749
S'            if mydict != {}:'
p256
sI750
S'                return mydict'
p257
ssg87
S"(self=<pydal.adapters.sqlite.SQLiteAdapter object>, table=<Table blog_post (id,product,title,body,time_stamp,username,user_id)>, fields=[(<pydal.objects.Field object>, 'fgdh'), (<pydal.objects.Field object>, 'Ben Lister'), (<pydal.objects.Field object>, '2'), (<pydal.objects.Field object>, 6L), (<pydal.objects.Field object>, 'vchb'), (<pydal.objects.Field object>, datetime.datetime(2016, 3, 11, 21, 34, 27, 889000))])"
p258
sg89
g242
sasS'pyver'
p259
S'Python 2.7.9: C:\\Program Files (x86)\\Web2Py\\web2py\\web2py.exe (prefix: )'
p260
sS'session'
p261
g61
(S's\xd6\x0b\x00\x00<div><table><tr><td style="font-weight:bold;vertical-align:top;">auth</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">expiration</td><td style="vertical-align:top;">:</td><td><div>3600</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">hmac_key</td><td style="vertical-align:top;">:</td><td><div>5e9166b9-240b-41a5-b9b9-f7cd8d2c500e</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">last_visit</td><td style="vertical-align:top;">:</td><td><div>datetime.datetime(2016, 3, 11, 21, 33, 3, 769000)</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">remember_me</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">user</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">email</td><td style="vertical-align:top;">:</td><td><div>Sir-Amik-Vase@overclocked.net</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">first_name</td><td style="vertical-align:top;">:</td><td><div>Ben</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">id</td><td style="vertical-align:top;">:</td><td><div>6L</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">last_name</td><td style="vertical-align:top;">:</td><td><div>Lister</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">postcount</td><td style="vertical-align:top;">:</td><td><div>0L</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">profilepicture</td><td style="vertical-align:top;">:</td><td><div>auth_user.profilepicture.a07797c6af539d6e.422e706e67.png</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">registration_id</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">registration_key</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">reset_password_key</td><td style="vertical-align:top;">:</td><td><div></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">user_groups</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">3</td><td style="vertical-align:top;">:</td><td><div>Manager</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">8</td><td style="vertical-align:top;">:</td><td><div>user_6</div></td></tr></table></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">flash</td><td style="vertical-align:top;">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">last_orderby</td><td style="vertical-align:top;">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">last_query</td><td style="vertical-align:top;">:</td><td><div>db.auth_user.id&gt;0</div></td></tr></table></div>'
tRp262
sS'etype'
p263
S"<class 'sqlite3.IntegrityError'>"
p264
sS'date'
p265
S'Fri Mar 11 21:34:28 2016'
p266
sS'response'
p267
g61
(S's\xd3\x1e\x00\x00<div><table><tr><td style="font-weight:bold;vertical-align:top;">body</td><td style="vertical-align:top;">:</td><td><div>&lt;cStringIO.StringO object at 0x04894E60&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">cookies</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">session_id_assignment2</td><td style="vertical-align:top;">:</td><td><div>127.0.0.1-6b7a887d-1fde-4d58-9c6c-02c493602640<table><tr><td style="font-weight:bold;vertical-align:top;">comment</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">domain</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">expires</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">httponly</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">max-age</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">path</td><td style="vertical-align:top;">:</td><td><div>/</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">secure</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">version</td><td style="vertical-align:top;">:</td><td><div></div></td></tr></table></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">delimiters</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>{{</div></td></tr><tr><td><div>}}</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">files</td><td style="vertical-align:top;">:</td><td><div><table></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">flash</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">form_label_separator</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">formstyle</td><td style="vertical-align:top;">:</td><td><div>bootstrap3_inline</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">generic_patterns</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>*</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">google_analytics_id</td><td style="vertical-align:top;">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">headers</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">X-Powered-By</td><td style="vertical-align:top;">:</td><td><div>web2py</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">logo</td><td style="vertical-align:top;">:</td><td><div><a class="navbar-brand" href="http://www.web2py.com/" id="web2py-logo"><b>web<span>2</span>py</b>&trade;&nbsp;</a></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">menu</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div><table><tr><td><div>Home</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>/Assignment2/default/index</div></td></tr><tr><td><div><table></table></div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>View Products</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>/Assignment2/default/viewproducts/1</div></td></tr><tr><td><div><table></table></div></td></tr></table></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">meta</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">author</td><td style="vertical-align:top;">:</td><td><div>Your Name &lt;you@example.com&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">description</td><td style="vertical-align:top;">:</td><td><div>a cool new app</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">generator</td><td style="vertical-align:top;">:</td><td><div>Web2py Web Framework</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">keywords</td><td style="vertical-align:top;">:</td><td><div>web2py, python, framework</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">models_to_run</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>^\\w+\\.py$</div></td></tr><tr><td><div>^default/\\w+\\.py$</div></td></tr><tr><td><div>^default/product/\\w+\\.py$</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">postprocessing</td><td style="vertical-align:top;">:</td><td><div><table></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_client</td><td style="vertical-align:top;">:</td><td><div>127.0.0.1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_cookie_compression_level</td><td style="vertical-align:top;">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_cookie_expires</td><td style="vertical-align:top;">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_cookie_key</td><td style="vertical-align:top;">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_data_name</td><td style="vertical-align:top;">:</td><td><div>session_data_assignment2</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_file</td><td style="vertical-align:top;">:</td><td><div>&lt;open file &#x27;C:\\\\Program Files (x86)\\\\Web2Py\\\\web2py\\\\applications\\\\Assignment2\\\\sessions\\\\08b\\\\0f7\\\\127.0.0.1-6b7a887d-1fde-4d58-9c6c-02c493602640&#x27;, mode &#x27;rb+&#x27; at 0x03C91AC8&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_filename</td><td style="vertical-align:top;">:</td><td><div>C:\\Program Files (x86)\\Web2Py\\web2py\\applications\\Assignment2\\sessions\\127.0.0.1-6b7a887d-1fde-4d58-9c6c-02c493602640</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_hash</td><td style="vertical-align:top;">:</td><td><div>7b78d6ee4c570c2c481d8fb9b8a358b7</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_id</td><td style="vertical-align:top;">:</td><td><div>127.0.0.1-6b7a887d-1fde-4d58-9c6c-02c493602640</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_id_name</td><td style="vertical-align:top;">:</td><td><div>session_id_assignment2</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_locked</td><td style="vertical-align:top;">:</td><td><div>True</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_masterapp</td><td style="vertical-align:top;">:</td><td><div>Assignment2</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_new</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_storage_type</td><td style="vertical-align:top;">:</td><td><div>file</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">status</td><td style="vertical-align:top;">:</td><td><div>200</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">subtitle</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">title</td><td style="vertical-align:top;">:</td><td><div>Assignment2</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">view</td><td style="vertical-align:top;">:</td><td><div>default/product.html</div></td></tr></table></div>'
tRp268
sS'locals'
p269
(dp270
S'fields'
p271
S"[(<pydal.objects.Field object>, 'fgdh'), (<pydal.objects.Field object>, 'Ben Lister'), (<pydal.objects.Field object>, '2'), (<pydal.objects.Field object>, 6L), (<pydal.objects.Field object>, 'vchb'), (<pydal.objects.Field object>, datetime.datetime(2016, 3, 11, 21, 34, 27, 889000))]"
p272
sS'self'
p273
S'<pydal.adapters.sqlite.SQLiteAdapter object>'
p274
sS'e'
S"IntegrityError('foreign key constraint failed',)"
p275
sS'table'
p276
S'<Table blog_post (id,product,title,body,time_stamp,username,user_id)>'
p277
sS'query'
p278
S'"INSERT INTO blog_post(body,username,product,user...\',\'Ben Lister\',2,6,\'vchb\',\'2016-03-11 21:34:27\');"'
p279
sssS'traceback'
p280
S'Traceback (most recent call last):\n  File "C:\\Program Files (x86)\\Web2Py\\web2py\\gluon\\restricted.py", line 227, in restricted\n    exec ccode in environment\n  File "C:\\Program Files (x86)\\Web2Py\\web2py\\applications\\Assignment2\\controllers/default.py", line 133, in <module>\n  File "C:\\Program Files (x86)\\Web2Py\\web2py\\gluon\\globals.py", line 412, in <lambda>\n    self._caller = lambda f: f()\n  File "C:\\Program Files (x86)\\Web2Py\\web2py\\applications\\Assignment2\\controllers/default.py", line 46, in product\n    form = SQLFORM(db.blog_post).process()\n  File "C:\\Program Files (x86)\\Web2Py\\web2py\\gluon\\html.py", line 2304, in process\n    self.validate(**kwargs)\n  File "C:\\Program Files (x86)\\Web2Py\\web2py\\gluon\\html.py", line 2241, in validate\n    if self.accepts(**kwargs):\n  File "C:\\Program Files (x86)\\Web2Py\\web2py\\gluon\\sqlhtml.py", line 1722, in accepts\n    self.vars.id = self.table.insert(**fields)\n  File "C:\\Program Files (x86)\\Web2Py\\web2py\\gluon\\packages\\dal\\pydal\\objects.py", line 731, in insert\n    ret = self._db._adapter.insert(self, self._listify(fields))\n  File "C:\\Program Files (x86)\\Web2Py\\web2py\\gluon\\packages\\dal\\pydal\\adapters\\base.py", line 746, in insert\n    raise e\nIntegrityError: foreign key constraint failed\n'
p281
s.